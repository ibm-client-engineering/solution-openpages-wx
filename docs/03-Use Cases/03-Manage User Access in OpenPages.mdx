---
title: Manage User Access in OpenPages
description: Manage User Access in OpenPages
custom_edit_url: null
---

# Manage User Access in OpenPages

Ensure **role-based access control** to limit content and data exposure, along with creating rules to restrict users to specific modules. For this example, Justin will be in the Business Analyst role and Emma will be in the Admin Developer role. Therefore, Justin should not have access to the Admin User Guide.

---

## Upload the OpenPages Administrator Guide to Watson Discovery

1. Make sure that you have the OpenPages Administrator Guide downloaded locally.
2. Under new projects, input a detailed project name. Select the option **"Conversational Search"** then click Next.
   ![](../../assets/screenshots/upload-WD.png)
3. Input a collection name.
4. Upload the file which will serve as the knowledge base. It should look like the following once you have uploaded -
   ![](../../assets/screenshots/WD-loading.png)

---

## Create Login Action

1. In the watsonx Assistant platform, in the Actions tab, under Variables, under Created by you, create 3 new variables:
   - username: Create a new variable called username as type "Free Text" with no initial value. Then, click Save.
   - password: Create a new variable called password as type "Free Text" with no initial value. Then, click Save.
   - role: Create a new variable called role as type "Free Text" with no initial value. Then, click Save.
2. Under Actions, under All items, under Set by assistant, click on Greet Customer. Before anything, the user should be prompted to login to the system.
3. In the Greet Customer Action, delete all of the existing steps. Then, add on the following steps:
   1. **Step 1:** Type in "Welcome, please enter your username." under Assistant says, then set the output to _free text_.
   2. **Step 2:** Type in "Please enter your **password.**" under Assistant says, then set the output to _free text_. Also, set the variable value _username_ to Action step variable / Step 1. It should look similar to the following image:
      ![](../../assets/screenshots/RA-step2.png)
   3. **Step 3:** Set the variable value _password_ to Action step variable / Step 2.
   4. **Step 4 and 5:** Type in "Welcome _username_, how can I assist you today?" under Assistant says. Using your preferred way of User Authentication, set the conditions as such and then set loggedIn == True.
      ![](../../assets/screenshots/RA-step4and5.png)
   5. **Step 6:** Type in "Your username or password is incorrect, please **try again.**" under Assistant says, and set the And then section to Re-ask previous step(s) and set to Steps 1-5. Set the conditions to match your preferred authentication approach once again.
      ![](../../assets/screenshots/RA-step6-new.png)
   6. **Step 7:** Set the And then section to Go to subaction: goes to action "Role assignment" so that they can re-login.
4. Now, when the Assistant first prompts the user, it should ask them to login. **Test out your new action sequence in Preview!**

---

## Role Assignment

1. Next, navigate to the Actions tab, under All items, under Created by you, create a New action called "Role Assignment" from scratch.
2. Add your method of Authentication.
3. Be sure to save this action, then close out of this window. Preview your new action in the bottom-right Preview chat.

---

## Ensure Search Action Queries the Admin User Guide

1. On the watsonx Assistant platform navigate to the **Search** action, on **Step 5**, create a new condition `If All of this is true: role matches Admin` and ensure that you are using the Watson Discovery Custom Extension.
   - The condition should look like the following image:
   - The extension setup should have the following parameters:
     - `project_id To discovery_project_id`
     - `version To discovery_date_version`
     - `count To 3`
     - `return To ["title", "metadata.source.url"]`
     - `passages.fields To ["text"]`
     - `passages.enabled To true`
     - `passages.characters To 800`
     - `passages.find_answers To true`
     - `table_results.enabled To false`
     - `natural_langauge_query To query_text`
     - `passages.per_document To True`
     - `passages.max_answers_per_passage To 1`
     - `collections_ids` To _the **Collection ID** of your Admin User Guide in Watson Discovery_ as `["<collection_id>"]`
       :::info
       **Where to get Collection ID**
       - **collection_ids**: In Watson Discovery, navigate to your collection, then copy the URL of your browser once you click on your collection. Copy the code between "collections" and "activity" because this is your Collection ID.
         :::
   - Be sure to click Apply, then Save.
2. The next
