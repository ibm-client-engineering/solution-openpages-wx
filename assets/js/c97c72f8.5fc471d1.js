"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2488],{4972:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>r});var s=t(5893),i=t(1151);const o={title:"Watsonx.ai Models Development",description:"Watsonx.ai Models Development",custom_edit_url:null},l="watsonx.ai Models Development",a={id:"Create/Watsonx.ai Models copy",title:"Watsonx.ai Models Development",description:"Watsonx.ai Models Development",source:"@site/docs/02-Create/02-Watsonx.ai Models copy.mdx",sourceDirName:"02-Create",slug:"/Create/Watsonx.ai Models copy",permalink:"/solution-openpages-wx/Create/Watsonx.ai Models copy",draft:!1,unlisted:!1,editUrl:null,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Watsonx.ai Models Development",description:"Watsonx.ai Models Development",custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"watsonx Assistant Development",permalink:"/solution-openpages-wx/Create/Watsonx Assistant Development"},next:{title:"Integrations",permalink:"/solution-openpages-wx/Create/OpenPages Integrations"}},d={},r=[{value:"Prerequisite",id:"prerequisite",level:2},{value:"Develop Watsonx.ai Model",id:"develop-watsonxai-model",level:2},{value:"5W&#39;s Model",id:"5ws-model",level:3},{value:"Summarization Model",id:"summarization-model",level:3},{value:"Deploy Watsonx.ai Model to Deployment Space",id:"deploy-watsonxai-model-to-deployment-space",level:2},{value:"Integrate watsonx.ai Model to OpenPages",id:"integrate-watsonxai-model-to-openpages",level:2},{value:"OpenPages Configuration",id:"openpages-configuration",level:3},{value:"Model Access",id:"model-access",level:4},{value:"Inputs",id:"inputs",level:4},{value:"Outputs",id:"outputs",level:4},{value:"Guidance",id:"guidance",level:4},{value:"Assign Watsonx.ai model to OpenPages View",id:"assign-watsonxai-model-to-openpages-view",level:2},{value:"Testing",id:"testing",level:3},{value:"References",id:"references",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"watsonxai-models-development",children:"watsonx.ai Models Development"}),"\n",(0,s.jsx)(n.h2,{id:"prerequisite",children:"Prerequisite"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A OpenPages instance"}),"\n",(0,s.jsx)(n.li,{children:"Watsonx.ai Instance"}),"\n",(0,s.jsx)(n.li,{children:"Watson Machine Learning Instance"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"develop-watsonxai-model",children:"Develop Watsonx.ai Model"}),"\n",(0,s.jsx)(n.h3,{id:"5ws-model",children:"5W's Model"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Before running the 5 W's notebook (under the Assets folder), you will need three pieces of information:","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://cloud.ibm.com/iam/apikeys",children:"IBM Cloud API key (Generate here)"})," for the environment/account in which you're working (sometimes users are working in more than one environment; you need a key for the cloud account where you're working on this project)"]}),"\n",(0,s.jsx)(n.li,{children:"watsonx.ai Project ID - You will have to create a project in the WatsonX Instance (find the project ID under Your Project -> Manage -> General)"}),"\n",(0,s.jsx)(n.li,{children:"A Deployment Space GUID - You will have to create a deployment space in the WatsonX Instance (find the Deployment Space ID under Deployments -> Your Deployment -> Manage -> General)"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"In the first cell of the 5 W's notebook, input the watsonx.ai Project ID and Deployment Space ID (instructions are in the notebook)"}),"\n",(0,s.jsx)(n.li,{children:"When you run the first code block, you will be prompted for your Cloud API key"}),"\n",(0,s.jsx)(n.li,{children:"The second code block in the notebook calls the LLM model and sets up Watson Machine Learning. You will want to modify the name of the first inner function to your model name. You can edit the LLM model, parameters, and the prompt to fit your use case as well."}),"\n",(0,s.jsxs)(n.li,{children:["You will want to change the prompt function name in the fourth cell. Note the deployment ID in the output of the fourth cell to deploy the model to Open Pages later.\n",(0,s.jsx)(n.img,{src:t(298).Z+"",width:"1824",height:"252"})]}),"\n",(0,s.jsxs)(n.li,{children:["You can verify the function was succesfully deployed by going to Deployments -> Your Deployment ->Assets\n",(0,s.jsx)(n.img,{src:t(2370).Z+"",width:"1394",height:"330"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"summarization-model",children:"Summarization Model"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In order to run the Summarization notebook (under Assets), you will need three pieces of information: 1. ",(0,s.jsx)(n.a,{href:"https://cloud.ibm.com/iam/apikeys",children:"IBM Cloud API key (Generate here)"})," for the environment in which you're working (sometimes users are working in more than one env; you need a key for the env where you're working on this project) 1. watsonx.ai Project ID 1. a Deployment Space ID\n",(0,s.jsx)(n.img,{alt:"Information Needed",src:t(275).Z+"",width:"1538",height:"468"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"In the Summarization notebook > input the watsonx.ai Project ID and Deployment Space ID into the first code block (instructions are in the notebook)"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"When you run the first code block, you will be prompted for your Cloud API key"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The second code block in the notebook calls the LLM model and sets up Watson Machine Learning; there are only two pieces of information you may want to edit in this code block > the LLM model and the prompt; the current LLM model was chosen due to its success rate and accuracy in outputing a summary that contains key data points, including quantitative data. You are free to experiment with models and prompts.\n",(0,s.jsx)(n.img,{alt:"Editable Variables",src:t(8053).Z+"",width:"1084",height:"500"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Once you are satisfied with your model and prompt, continue to the next section ## Deploy Watsonx.ai Model to Deployment Space"}),"\n",(0,s.jsx)(n.h2,{id:"deploy-watsonxai-model-to-deployment-space",children:"Deploy Watsonx.ai Model to Deployment Space"}),"\n",(0,s.jsx)(n.p,{children:"In the Summarization notebook:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Run code block #3 without making any changes"}),"\n",(0,s.jsxs)(n.li,{children:["When you run code block #4, the output will contain a Deployment ID; ",(0,s.jsx)(n.em,{children:"copy this Deployment ID and paste it into your instance of Open Pages"}),"; this will allow you to summarize content contained in your Open Pages instance\n",(0,s.jsx)(n.img,{alt:"How to Find Deployment ID",src:t(1183).Z+"",width:"1236",height:"506"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"integrate-watsonxai-model-to-openpages",children:"Integrate watsonx.ai Model to OpenPages"}),"\n",(0,s.jsx)(n.h3,{id:"openpages-configuration",children:"OpenPages Configuration"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Click Administration menu > Integrations > Custom Machine Learning Models"}),"\n",(0,s.jsxs)(n.li,{children:["Click New Model and you'll see the following view.\n",(0,s.jsx)(n.img,{alt:"StartOPServices",src:t(2680).Z+"",width:"3416",height:"1758"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"model-access",children:"Model Access"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Enter "Name" and "Label"'}),"\n",(0,s.jsx)(n.li,{children:'Select "Watson Machine Learning on Cloud" for Watson Service Type'}),"\n",(0,s.jsx)(n.li,{children:'Select "Display only" if we want to display output from running the model.'}),"\n",(0,s.jsxs)(n.li,{children:["For Access Parameters:","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Authentication URL: ",(0,s.jsx)(n.code,{children:"https://iam.cloud.ibm.com/identity/token"})]}),"\n",(0,s.jsxs)(n.li,{children:["API Key: Create a IAM Key from the cloud account where the deployment lives (",(0,s.jsx)(n.a,{href:"https://cloud.ibm.com/iam/apikeys",children:"https://cloud.ibm.com/iam/apikeys"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Base Deployment URL: ",(0,s.jsx)(n.code,{children:"https://us-south.ml.cloud.ibm.com/ml/v4"})]}),"\n",(0,s.jsxs)(n.li,{children:["Deployment id: ",(0,s.jsx)(n.em,{children:"Deployment ID copied from the jupyter notebook"})]}),"\n",(0,s.jsxs)(n.li,{children:["Space id: ",(0,s.jsx)(n.em,{children:"Deployment Space ID"})]}),"\n",(0,s.jsxs)(n.li,{children:["API version: ",(0,s.jsx)(n.code,{children:"2021-05-01"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:['Click "Test Connection" to see if the setup was successful. Click "Next"\n',(0,s.jsx)(n.img,{src:t(9457).Z+"",width:"3134",height:"1584"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"inputs",children:"Inputs"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:['In "Object Type", select the object type that you\'d lilke this model to be applied to from the dropdown list.\n',(0,s.jsx)(n.img,{src:t(4084).Z+"",width:"2270",height:"1100"})]}),"\n",(0,s.jsx)(n.li,{children:'Select "Manual" or "Automatic" based on business requirements.'}),"\n",(0,s.jsx)(n.li,{children:'In "Add the input fields of your model and map them to fields in OpenPages.", select the fields that you\'d like to use as input for the model to process. In our example, we\'ll be using Description field as input, so we select "Description" from the OpenPages fields and type in "Description" for the Model input fields.'}),"\n",(0,s.jsxs)(n.li,{children:["Select checkbox ",(0,s.jsx)(n.strong,{children:"Required"})," for at least one field."]}),"\n",(0,s.jsxs)(n.li,{children:['The final setup would looks similar like screenshot below. Click "Next"\n',(0,s.jsx)(n.img,{src:t(8485).Z+"",width:"3170",height:"1578"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"outputs",children:"Outputs"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Select "Single insight" or "List of insights" based on your use case.'}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.strong,{children:"Output label"})," field, type in the text that you'd like to sshow to specify what's the model outpu is about."]}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.strong,{children:"JSONada string"})," field, based on your model outpu configuration in the jupyter notebook, test how the model output and specify exactly which part of the output you'd like to display for each output field."]}),"\n",(0,s.jsx)(n.li,{children:'The final setup would looks similar like screenshot below. Click "Next"'}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The Summarization example - ",(0,s.jsx)(n.code,{children:"predictions.values[0][0]"}),"\n",(0,s.jsx)(n.img,{src:t(3892).Z+"",width:"3166",height:"1580"})]}),"\n",(0,s.jsxs)(n.li,{children:["The 5W's example - Who ",(0,s.jsx)(n.code,{children:'predictions.values[0][0].$substringAfter("***Who: ***").$substringBefore("***What: ***")'})," - What ",(0,s.jsx)(n.code,{children:'predictions.values[0][0].$substringAfter("***What: ***").$substringBefore("***When: ***")'})," - Where ",(0,s.jsx)(n.code,{children:'predictions.values[0][0].$substringAfter("***Where: ***").$substringBefore("***Why: ***")'})," - When ",(0,s.jsx)(n.code,{children:'predictions.values[0][0].$substringAfter("***When: ***").$substringBefore("***Where: ***")'})," - Why ",(0,s.jsx)(n.code,{children:'predictions.values[0][0].$substringAfter("***When: ***").$substringBefore("***Where: ***")'}),"\n",(0,s.jsx)(n.img,{src:t(3575).Z+"",width:"3168",height:"1580"}),"\n",(0,s.jsx)(n.img,{src:t(6860).Z+"",width:"3172",height:"1566"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"guidance",children:"Guidance"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Input the Description of the model to help users understand what the model input and output. You could also modify the Style."}),"\n",(0,s.jsxs)(n.li,{children:['The final setup would looks similar like screenshot below. Click "Save" to complete model setup. In the Custom Machine Learning Models table, you should see status "V Complete".\n',(0,s.jsx)(n.img,{src:t(6810).Z+"",width:"3172",height:"1590"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"assign-watsonxai-model-to-openpages-view",children:"Assign Watsonx.ai model to OpenPages View"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["To assign model to views, click ",(0,s.jsx)(n.em,{children:"Administration menu > Solution Configuration > Views"}),".\n",(0,s.jsx)(n.img,{src:t(8917).Z+"",width:"624",height:"626"})]}),"\n",(0,s.jsx)(n.li,{children:"Search for the View that you'd like to edit."}),"\n",(0,s.jsxs)(n.li,{children:["Another way to access the view that you'd like to modify is through enabling ",(0,s.jsx)(n.strong,{children:'"Display Debug Info"'}),". Click ",(0,s.jsx)(n.em,{children:"Administration menu > Other > Display Debug Info"}),'. In the screenshot example, Now you could see blue texts under "New Risk". Click on the blue text and it will link you to the exact view.\n',(0,s.jsx)(n.img,{src:t(4391).Z+"",width:"3442",height:"1420"})]}),"\n",(0,s.jsxs)(n.li,{children:["This is an example of what a view configuration page looks like.\n",(0,s.jsx)(n.img,{src:t(2862).Z+"",width:"3440",height:"1766"})]}),"\n",(0,s.jsxs)(n.li,{children:['Click on the blue text "Description" and a right-hand-side panel will show up. Select the specific model that you\'d like to apply to this field. Click "Done". Click "Publish".\n',(0,s.jsx)(n.img,{src:t(2921).Z+"",width:"3436",height:"1772"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"testing",children:"Testing"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Let's navigate back to the view where we've applied watsonx.ai model to. Input text to the Description field and a lightbult will show up."}),"\n",(0,s.jsx)(n.li,{children:"Click on the lightbulb to open the right-hand side panel where the model output will show up."}),"\n",(0,s.jsx)(n.li,{children:'In this example, we are applying "Tags". We can see that two different input show different tagging suggestions, indicating that the model is working.'}),"\n",(0,s.jsxs)(n.li,{children:["You could continue update the model prompt to further improve the model performance based on your business requirements\n",(0,s.jsx)(n.img,{src:t(7465).Z+"",width:"3452",height:"1176"}),"\n",(0,s.jsx)(n.img,{src:t(5300).Z+"",width:"3424",height:"1058"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},298:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/Deployment-ID-4281d6f70e7a62fe37005d0e2c8b4c99.png"},2370:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/Deployments-814837354c30f046f6b0400f91985db0.png"},9457:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/Test-connection-success-addaa1f0f7b270b1eb2e1a79f77120c8.png"},1183:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/deployment_ID-6bb62efdb5de6118e361b893f1f2c446.png"},8053:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/model_params-5262e2bb6df26715b70694462ebeb859.png"},7465:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/openpages-ai-tagging-test-1-26ccdf0db05a3c5eb9fd111c8e860ff8.png"},5300:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/openpages-ai-tagging-test-2-e353b469f5206f7ce16bea3f57be40c0.png"},2921:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/openpages-description-model-config-db66c428f5ba47346557c0492d762619.png"},4391:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/openpages-display-debug-info-418a5609b17424b7fe2118fe42f9b1ae.png"},8485:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/openpages-edit-model-inputs-3e6ad401f4821d59435e78652288a37e.png"},6810:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/openpages-model-config-guidance-6ea3d98457f5d908a69199ac8cb15b18.png"},4084:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/openpages-model-config-inputs-6d252e512722482f6ba0d84af68652e0.png"},6860:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/openpages-model-config-outputs-5w-2-b1fc65ce74ca55d43f57c72a9d683966.png"},3575:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/openpages-model-config-outputs-5w-f072c2892e242b017f26e17511f4fc20.png"},3892:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/openpages-model-config-outputs-03a1d806b139f47725b5cc0af0c28a93.png"},2680:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/openpages-model-config-ed305d0e42c74736d16e9958b95bef29.png"},8917:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/openpages-system-config-views-0f4119ebc9959aa24e24163f115379a9.png"},2862:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/openpages-view-page-4d1543186706087deb76febbbf31e5e3.png"},275:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/three_credentials-f94d6a4eff289be1e0db23c5a9bd84ee.png"},1151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>l});var s=t(7294);const i={},o=s.createContext(i);function l(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);